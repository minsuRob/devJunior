<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="utf-8">
    <title>회원가입</title>
    <style type="text/css">
        body,input,select,option,button{font-size:20px}
        input[type=checkbox]{width:20px;height:20px}
        span{font-size:16px;color:#f00}
    </style>
    <script type="text/javascript">
        function form_check(frm){
            // document.querySelector("#uname")
            
            // 객체 생성
            var uname = document.getElementById("uname");
            var uid = document.getElementById("uid");
            var pwd = document.getElementById("pwd");
            var repwd = document.getElementById("repwd");
            var agree = document.getElementById("mobile");
            
            if(uname.value == ""){ // if(!uname.value) // 값이 없다면
            // if(uname.value != ""){ // if(uname.value) // 있다면
                // alert("이름을 입력하세요.");
                var uname_txt = document.querySelector(".uname_txt");
                // uname_txt.innerHTML = "<b>이름을 입력하세요.</b>";
                uname_txt.textContent = "이름을 입력하세요.";
                uname.focus();
                return false;
            };
            
            if(!uid.value){
                alert("아이디를 입력하세요.");
                uid.focus();
                return false;
            };
            if(uid.value.length < 4 || uid.value.length > 12){
                alert("4~12글자만 입력할 수 있습니다.");
                uid.focus();
                return false;
            };
            
            if(!pwd.value){
                alert("비밀번호를 입력하세요.");
                pwd.focus();
                return false;
            };
            var pwd_cnt = pwd.value.length;
            if(pwd_cnt < 4 || pwd_cnt > 8){
                alert("비밀번호는 4~8 글자만 입력할 수 있습니다.");
                pwd.focus();
                return false;
            }
            
            if(pwd.value != repwd.value){
                alert("비밀번호를 확인해 주세요.");
                repwd.focus();
                return false;
            };
            
            var reg = /^[0-9]+$/g;
            if(!reg.test(mobile.value)){
                alert("전화번호는 숫자만 입력할 수 있습니다.");
                mobile.focus();
                return false;
            };
            
            // document.form1.submit();
            frm.submit();
        };
        
        function change_email(){
            // alert("TEST");
            var email_dns = document.getElementById("email_dns");
            var email_sel = document.getElementById("email_sel");
            
            var idx = email_sel.options.selectedIndex;
            // alert(idx);
            // var sel_value = email_sel.options[1].text;
            var sel_value = email_sel.options[idx].value;
            // alert(sel_value);
            
            email_dns.value = sel_value;
        };
        
        function search_address(){
            window.open("search_zip.html", "", "width=600,height=300,left=0,top=0");
        };
        if(!agree.checked){
                alert("약관동의가 필요합니다.");
                mobile.focus();
                return false;
            };
    </script>
</head>
<body>
    <form name="form1" action="insert.php" method="get">
        <fieldset>
        <legend>회원가입</legend>
        <p>
            <label for="uname">이름</label>
            <input type="text" name="uname" id="uname">
            <br>
            <span class="uname_txt"></span>
        </p>
        <p>
            아이디
            <input type="text" name="uid" id="uid">
            <button type="button">아이디 중복 확인</button>
            <br>
            4~12글자만 입력할 수 있습니다.
        </p>
        <p>
            비밀번호
            <input type="text" name="pwd" id="pwd">
            <br>
            비밀번호는 4~8 글자만 입력할 수 있습니다.
        </p>
        <p>
            비밀번호 확인
            <input type="text" name="repwd" id="repwd">
        </p>
        <p>
            전화번호
            <input type="text" name="mobile" id="mobile">
            "-" 없이 숫자만 입력
        </p>
        <p>
            이메일
            <input type="text" name="email_id" id="email_id"> @ 
            <input type="text" name="email_dns" id="email_dns"> 
            <select name="email_sel" id="email_sel" onchange="change_email()">
                <option value="">직접 입력</option>
                <option value="naver.com">네이버</option>
                <option value="daum.net">다음</option>
                <option value="gmail.com">구글</option>
            </select>
        </p>
        <p>
            생년월일
            <input type="text" name="birth" id="birth">
            ex) 20210211
        </p>
        <p>
            주소
            <input type="text" name="postalCode" id="postalCode">
            <button type="button" onclick="search_address()">주소검색</button>
            <br>
            기본 주소
            <input type="text" name="addr1" id="addr1">
            <br>
            상세 주소
            <input type="text" name="addr2" id="addr2">
        </p>
        <p>
            <input type="checkbox" name="agree" id="agree">
            약관에 동의합니다. 
        </p>
        <p>
            <button type="button">돌아가기</button>
            <button type="button" onclick="form_check(this.form)">가입하기</button> 
        </p>
        </fieldset>
    </form>
</body>
</html>